---
## Front matter
title: "Отчет по лабораторной работе №1"
subtitle: "Работа с GIT"
author: "Гисматуллин Артём Вадимович НПИбд-01-22"

## Generic otions
lang: ru-RU
toc-title: "Содержание"

## Bibliography
bibliography: bib/cite.bib
csl: pandoc/csl/gost-r-7-0-5-2008-numeric.csl

## Pdf output format
toc: true # Table of contents
toc-depth: 2
lof: true # List of figures
lot: true # List of tables
fontsize: 12pt
linestretch: 1.5
papersize: a4
documentclass: scrreprt
## I18n polyglossia
polyglossia-lang:
  name: russian
  options:
	- spelling=modern
	- babelshorthands=true
polyglossia-otherlangs:
  name: english
## I18n babel
babel-lang: russian
babel-otherlangs: english
## Fonts
mainfont: IBM Plex Serif
romanfont: IBM Plex Serif
sansfont: IBM Plex Sans
monofont: IBM Plex Mono
mathfont: STIX Two Math
mainfontoptions: Ligatures=Common,Ligatures=TeX,Scale=0.94
romanfontoptions: Ligatures=Common,Ligatures=TeX,Scale=0.94
sansfontoptions: Ligatures=Common,Ligatures=TeX,Scale=MatchLowercase,Scale=0.94
monofontoptions: Scale=MatchLowercase,Scale=0.94,FakeStretch=0.9
mathfontoptions:
## Biblatex
biblatex: true
biblio-style: "gost-numeric"
biblatexoptions:
  - parentracker=true
  - backend=biber
  - hyperref=auto
  - language=auto
  - autolang=other*
  - citestyle=gost-numeric
## Pandoc-crossref LaTeX customization
figureTitle: "Рис."
tableTitle: "Таблица"
listingTitle: "Листинг"
lofTitle: "Список иллюстраций"
lotTitle: "Список таблиц"
lolTitle: "Листинги"
## Misc options
indent: true
header-includes:
  - \usepackage{indentfirst}
  - \usepackage{float} # keep figures where there are in the text
  - \floatplacement{figure}{H} # keep figures where there are in the text
---

# Цель работы

 - Последовательно выполнять действия по настройке GIT.

# Задание

Последовательно выполнять все пункты, занося ответы и замечания в отчет.

# Выполнение лабораторной работы

## Подготовка

### Установка базовых параметров

1. Первым делом установим имя, электронную почту, а также параметры установки окончаний 
строк (настройка GIT будет производиться на платформе Windows) (рис. [-@fig:001])

![Базовая настройка](image/01.png){ #fig:001 width=70%, height=70% }

Здесь же установим отображения unicode

### Создание проекта

1. Создадим страницу Hello, World, создадим репозиторий и добавим файлы в этот репозиторий (рис. [-@fig:002])

![Создание репозитория и файлов](image/02.png){ #fig:002 width=70%, height=70% }

Здесь же проверим текущее состояние репозитория и заметим, что коммитить нечего. Теперь же 
изменим страницу Hello World, а затем проверим снова состояние рабочего каталога. Заметим, 
что репозиторий был изменен, но эти изменения не были зафиксированы (рис. [-@fig:003])

![Внесение изменений в страницу](image/03.png){ #fig:003 width=70%, height=70% }

2. Проиндексируем изменения, проверим их и сделаем коммит. Добавим комментарий через редактор 
к этому коммиту (рис. [-@fig:004])

![Первый коммит](image/04.png){ #fig:004 width=70%, height=70% }

3. Рабочий каталог чистый, можно продолжить работу (рис. [-@fig:005])

![Проверка статуса](image/05.png){ #fig:005 width=70%, height=70% }

Добавим далее стандартные теги страницы. Добавим изменения в html файл и добавим 
это изменение в индекс git (рис. [-@fig:006])

![Первое изменение файла](image/06.png){ #fig:006 width=70%, height=70% }

Далее сделаем новые изменения и снова проверим статус. Заметим, что файл hello.html там 
указан дважды (рис. [-@fig:007])

![Второе изменение файла](image/07.png){ #fig:007 width=70%, height=70% }

После этого произведем коммит проиндексированного изменения, затем по статусу заметим, что есть 
незафиксированные изменения. Тоже их добавим в индекс и сделаем второй коммит (рис. [-@fig:008])

![Коммит изменений](image/08.png){ #fig:008 width=70%, height=70% }

4. История. Получим список произведенных изменений, отобразим лог так же во многих его вариантах (рис. [-@fig:009])

![Вывод в различных вариантах лога](image/09.png){ #fig:009 width=70%, height=70% }

5. Займемся получением старых версий. Получим хэши предыдущих версий и при помощи команды 
checkout перейдем на первый коммит, затем снова вернемся к ветке master (по умолчанию) (рис. [-@fig:010])

![Переход на старые версии](image/010.png){ #fig:010 width=70%, height=70% }

Здесь же создадим тег первой версии файла html, перейдем на нее и выведем содержимое файла. 
С новым тегом будет измененная версия этого файла. Далее переключим по имени теги, затем 
просмотрим теги с помощтью команды tag (рис. [-@fig:011])

![Переключение тегов](image/011.png){ #fig:011 width=70%, height=70% }

Здесь мы можем теперь видеть теги в логе вместе с именем ветки (рис. [-@fig:012])

![Просмотр тегов](image/012.png){ #fig:012 width=70%, height=70% }

### Отмена локальных изменений (до индексации)

Перейдем на ветку master, изменим файл hello.html, проверим состояниеи отменим изменения в 
рабочем каталоге (рис. [-@fig:013])

![Отмена локальных изменений](image/013.png){ #fig:013 width=70%, height=70% }

### Отмена проиндексированных изменений (перед коммитом)

Изменим файл снова, проиндексируем изменения, проверим состояние и выполним сброс буферной зоны. 
Это очищает буферную зону от изменений, которые мы только проиндексировали. 
Переключимся на версию коммита (рис. [-@fig:014])

![Отмена проиндексированных изменений](image/014.png){ #fig:014 width=70%, height=70% }

### Отмена коммитов

Изменим снова файл и сделаем коммит. Но затем сделаем коммит с новыми изменениями, отменяющими 
предыдущие (рис. [-@fig:015])

![Отмена коммитов](image/015.png){ #fig:015 width=70%, height=70% }

Проверим лог (рис. [-@fig:016])

![Просмотр лога](image/016.png){ #fig:016 width=70%, height=70% }

### Удаление коммитов из ветки

Проверим нашу историю и отметим коммит тегом oops. Сбросим коммиты к предшествующим коммиту oops (рис. [-@fig:017])

![Удаление коммитов](image/017.png){ #fig:017 width=70%, height=70% }

Никогда ничего не теряется. Мы все еще можем ссылаться на ошибочные коммиты (рис. [-@fig:018])

![Просмотр ошибочных коммитов](image/018.png){ #fig:018 width=70%, height=70% }

### Удаление тега oops

Тег oops свою функцию выполнил. Удалим его и коммиты, на которые он
ссылался, сборщиком мусора (рис. [-@fig:019])

![Удаление тега](image/019.png){ #fig:019 width=70%, height=70% }

### Внесение изменений в коммиты

Изменим страницу, а затем сделаем коммит, но при этом, если нам необходимо добавить, например, 
почту автора, то мы можем просто изменить предыдущий коммит командой --amend (рис. [-@fig:020])

![Исправление коммита](image/020.png){ #fig:020 width=70%, height=70% }
 
### Перемещение файлов

Переместим файл hello.html в каталог lib и сделаем коммит (рис. [-@fig:021])

![Коммит в новый каталог](image/021.png){ #fig:021 width=70%, height=70% }

### Подробнее о структуре

Добавим index.html в наш репозиторий, сделаем коммит и посмотрим страницу (рис. [-@fig:022])

![Новый файл](image/022.png){ #fig:022 width=70%, height=70% }

### Git внутри

Посмотрим информацию git, посмотрим набор каталогов, имена которых состоят из 2 символов, а также 
углубимся в базу данных объектов. Посмотрим конфигурационный файл, ветки и теги. Каждый 
файл соответствует тегу, ранее созданному с помощью команды git tag (рис. [-@fig:023])

![Изучение git](image/023.png){ #fig:023 width=70%, height=70% }

После посмотрим файл HEAD (рис. [-@fig:024])

![Файл HEAD](image/024.png){ #fig:024 width=70%, height=70% }

### Работа непосредственно с git

Поищем последний коммит, выведем его с помощью SHA1 хэша, поищем дерево, выведем каталог lib и 
файл hello.html (рис. [-@fig:025])

![Непосредственная работа с git](image/025.png){ #fig:025 width=70%, height=70% }

### Создание ветки

Создадим ветку style и создадим файл style.css (рис. [-@fig:026])

![Создание новой ветки и стилей](image/026.png){ #fig:026 width=70%, height=70% }

Затем изменим основную страницу и сделаем коммит (рис. [-@fig:027])

![Изменение основной страницы](image/027.png){ #fig:027 width=70%, height=70% }

А далее изменим index.html и сделаем коммит (рис. [-@fig:028])

![Изменение в файле](image/028.png){ #fig:028 width=70%, height=70% }

### Навигация по веткам

Переключимся на ветку master, вернемся к ветке style. Посмотрим содержимое файла hello.html (рис. [-@fig:029])

![Переключение в ветках](image/029.png){ #fig:029 width=70%, height=70% }

### Изменения в ветке master

Пока мы меняли ветку style, кто-то решил обновить ветку master. Они добавили
файл README.md. Создадим файл readme и сделаем коммит. Далее просмотрим отличающиеся ветки (рис. [-@fig:030])

![Просмотр отличающихся веток](image/030.png){ #fig:030 width=70%, height=70% }

### Слияние

Слияние перенесет изменения из двух веток в одну (рис. [-@fig:031])

![Слияние](image/031.png){ #fig:031 width=70%, height=70% }

### Создание конфликта

Вернемся в master и создадим конфликт. Изменим файл hello.html, сохраним изменения. Затем 
просмотрим ветки (рис. [-@fig:032])

![Создание конфликта](image/032.png){ #fig:032 width=70%, height=70% }

### Разрешение конфликтов

Вернемся в ветку style и попытаемся объединить ее с новой веткой master, причем уже 
hello.html отличается (рис. [-@fig:033])

![Разрешение конфликтов](image/033.png){ #fig:033 width=70%, height=70% }

Чтобы разрешить это, нужно изменить файл вручную. Можно использовать команду reset для возврата веток 
к предыдущему состоянию.

### Сброс ветки style

Вернемся к ветке style и найдем последний коммит перед слиянием (рис. [-@fig:034])

![Переход к ветке style](image/034.png){ #fig:034 width=70%, height=70% }

Мы видим, что коммит «Updated index.html» был последним на ветке style
перед слиянием. Давайте сбросим ветку style к этому коммиту (рис. [-@fig:035])

![Сброс ветки style](image/035.png){ #fig:035 width=70%, height=70% }

### Сброс ветки master и перебазирование

Сделаем так же сброс в ветке master и сделаем перебазирование вместо команды merge.
Конечный результат перебазирования очень похож на результат слияния. Ветка
style в настоящее время содержит все свои изменения, а также все изменения
ветки master. Однако, дерево коммитов значительно отличается. Дерево коммитов ветки style было переписано таким образом, что ветка master является
частью истории коммитов. Это делает цепь коммитов линейной и гораздо более
читабельной (рис. [-@fig:036])

![Перебазирование](image/036.png){ #fig:036 width=70%, height=70% }

### Слияние в ветку master

Сольем изменения style в ветку master, просмотрим логи (рис. [-@fig:037])

![Слияние в ветку master](image/037.png){ #fig:037 width=70%, height=70% }

### Клонирование репозиториев

Перейдем в рабочий каталог, создадим клон репозитория hello, просмотрим на 
клонированный репозиторий и просмотрим всю историю репозитория (рис. [-@fig:038])

![Клонирование репозитория](image/038.png){ #fig:038 width=70%, height=70% }

Заметим удаленную ветку master в списке истории.

Далее выполним команду git remote. Мы видим, что клонированный репозиторий знает об имени по умолчанию
удаленного репозитория. Удаленные репозитории обычно размещаются на отдельной машине,
 возможно, централизованном сервере. Далее посмотрим на ветки, доступные в нашем клонированном 
 репозитории, а также на список удаленных веток (рис. [-@fig:039])

![Просмотр веток](image/039.png){ #fig:039 width=70%, height=70% }

### Изменение оригинального репозитория

Внесем изменения в оригинальный репозиторий hello, а затем добавим изменения в README файл (рис. [-@fig:040])

![Изменения оригинального репозитория](image/040.png){ #fig:040 width=70%, height=70% }

Далее извлечем изменения из удаленного репозитория (рис. [-@fig:041])

![Извлечение изменений](image/041.png){ #fig:041 width=70%, height=70% }

После проверим readme и сольем извлеченные изменения в локальную ветку master. Снова проверим файл (рис. [-@fig:042])

![Слияние извлеченных изменений](image/042.png){ #fig:042 width=70%, height=70% }

### Добавление ветки наблюдения

Добавим локальную ветку, которая отслеживает удаленную ветку. 
Теперь мы можем видеть ветку style в списке веток и логе. (рис. [-@fig:043])

![Добавление ветки наблюдения](image/043.png){ #fig:043 width=70%, height=70% }

Далее создадим чистый репозиторий, добавим удаленный репозиторий и отправим изменения 
в общий репозиторий (рис. [-@fig:044])

![Внесение изменений](image/044.png){ #fig:044 width=70%, height=70% }

### Извлечение общих изменений

Быстро переключимся в
клонированный репозиторий и извлечем изменения, только что отправленные в
общий репозиторий (рис. [-@fig:045])

![Извлечение общих изменений](image/045.png){ #fig:045 width=70%, height=70% }

# Выводы 

В ходе выполнения лабораторной работы произвели настройку git и получили навыки составления 
отчетов при помощи Markdown
